<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gin: Layout Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classLayout-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Layout Class Reference<div class="ingroups"><a class="el" href="group__gin__gui.html">gin_gui</a> &raquo; <a class="el" href="group__gin__gui-utilities.html">utilities</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>JSON-based component layout engine with hot-reloading support.  
 <a href="classLayout.html#details">More...</a></p>

<p><code>#include &lt;gin_layout.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8f18cc1ec63365c09c3a54412a0a98de" id="r_a8f18cc1ec63365c09c3a54412a0a98de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayout.html#a8f18cc1ec63365c09c3a54412a0a98de">Layout</a> (juce::Component &amp;parent)</td></tr>
<tr class="memdesc:a8f18cc1ec63365c09c3a54412a0a98de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classLayout.html" title="JSON-based component layout engine with hot-reloading support.">Layout</a> manager for the specified parent component.  <br /></td></tr>
<tr class="separator:a8f18cc1ec63365c09c3a54412a0a98de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f53a76fe9a45d0f6325b42eadf51fa9" id="r_a9f53a76fe9a45d0f6325b42eadf51fa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayout.html#a9f53a76fe9a45d0f6325b42eadf51fa9">~Layout</a> ()</td></tr>
<tr class="memdesc:a9f53a76fe9a45d0f6325b42eadf51fa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a9f53a76fe9a45d0f6325b42eadf51fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06258e0c1d8e8ddc9684787951b4201a" id="r_a06258e0c1d8e8ddc9684787951b4201a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPoint.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayout.html#a06258e0c1d8e8ddc9684787951b4201a">setLayout</a> (<a class="el" href="classPoint.html">const</a> juce::String &amp;filename, <a class="el" href="classPoint.html">const</a> juce::File &amp;source={})</td></tr>
<tr class="memdesc:a06258e0c1d8e8ddc9684787951b4201a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads and applies a layout from a JSON file.  <br /></td></tr>
<tr class="separator:a06258e0c1d8e8ddc9684787951b4201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66dd59fbfee00f951cccceda0c7d4cf9" id="r_a66dd59fbfee00f951cccceda0c7d4cf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPoint.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayout.html#a66dd59fbfee00f951cccceda0c7d4cf9">parseLayout</a> (<a class="el" href="classPoint.html">const</a> juce::String &amp;<a class="el" href="classPoint.html">content</a>)</td></tr>
<tr class="memdesc:a66dd59fbfee00f951cccceda0c7d4cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses and applies a layout from JSON content.  <br /></td></tr>
<tr class="separator:a66dd59fbfee00f951cccceda0c7d4cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a152b945b2c1b21fa7b3a091916c44f" id="r_a2a152b945b2c1b21fa7b3a091916c44f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPoint.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayout.html#a2a152b945b2c1b21fa7b3a091916c44f">setConstant</a> (<a class="el" href="classPoint.html">const</a> juce::String &amp;name, <a class="el" href="classPoint.html">double</a> <a class="el" href="classPoint.html">val</a>)</td></tr>
<tr class="memdesc:a2a152b945b2c1b21fa7b3a091916c44f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a constant value that can be used in layout expressions.  <br /></td></tr>
<tr class="separator:a2a152b945b2c1b21fa7b3a091916c44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>JSON-based component layout engine with hot-reloading support. </p>
<p>This class allows you to define component layouts using JSON instead of hard-coding positions and sizes. On desktop platforms (not iOS/Android), it automatically watches the layout file for changes and reloads the layout when the file is modified, enabling rapid iteration during development.</p>
<p>Features:</p><ul>
<li>Define component bounds using JSON with mathematical expressions</li>
<li>Support for constants that can be referenced in expressions</li>
<li>Automatic hot-reloading on desktop platforms</li>
<li>Component lookup by ID with path support</li>
<li>Conditional rendering</li>
<li>Multiple components from single definition using ranges</li>
</ul>
<h1>JSON Format: </h1>
<p>JSON Keys:</p><ul>
<li>id: Component ID or comma-separated list (supports ranges like 'button[0..5]')</li>
<li>x, y: Position (numbers or expressions)</li>
<li>w, h: Width and height (numbers or expressions)</li>
<li>r, b: Right and bottom edges (numbers or expressions)</li>
<li>cx, cy: Center position (numbers or expressions)</li>
<li>bounds: Copy bounds - use 'parent' or 'prev'</li>
<li>constants: Object of name-value pairs for use in expressions</li>
<li>if: Conditional rendering (if expression == 0, component is skipped)</li>
<li>children: Array of child component layouts</li>
<li>properties: Object of properties to set on the component</li>
</ul>
<p>IMPORTANT: String parameters in expressions must use single quotes ' not double quotes "

Available Functions (use in expressions):
- getX('id'), getY('id'), getW('id'), getH('id'), getR('id'), getB('id')
- getCX('id'), getCY('id') - Get center of component
- prevX(), prevY(), prevW(), prevH(), prevR(), prevB() - Previous component bounds
- parX(), parY(), parW(), parH(), parR(), parB() - Parent component bounds

Component Paths:
- Absolute: '/rootComponent/childComponent'
- Relative: '../siblingComponent' or './childComponent'
- Direct ID: 'componentName' (searches from current context)

Example JSON layout:
@code 
{
    "constants": {
        "margin": 10,
        "buttonHeight": 30,
        "showAdvanced": 1
    },
    "children": [
        {
            "id": "title",
            "x": "margin",
            "y": "margin",
            "w": "parW() - margin * 2",
            "h": 40
        },
        {
            "id": "button[0..4]",
            "x": "margin",
            "y": "prevB() + margin",
            "w": 100,
            "h": "buttonHeight"
        },
        {
            "id": "advanced",
            "if": "showAdvanced",
            "x": "getR('button0') + margin",
            "y": "getY('button0')",
            "bounds": "prev" } ] } </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classLayout.html#a06258e0c1d8e8ddc9684787951b4201a" title="Loads and applies a layout from a JSON file.">setLayout</a>, <a class="el" href="classLayout.html#a66dd59fbfee00f951cccceda0c7d4cf9" title="Parses and applies a layout from JSON content.">parseLayout</a>, <a class="el" href="classLayout.html#a2a152b945b2c1b21fa7b3a091916c44f" title="Sets a constant value that can be used in layout expressions.">setConstant</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8f18cc1ec63365c09c3a54412a0a98de" name="a8f18cc1ec63365c09c3a54412a0a98de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f18cc1ec63365c09c3a54412a0a98de">&#9670;&#160;</a></span>Layout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Layout::Layout </td>
          <td>(</td>
          <td class="paramtype">juce::Component &amp;&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classLayout.html" title="JSON-based component layout engine with hot-reloading support.">Layout</a> manager for the specified parent component. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>The component whose children will be laid out </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f53a76fe9a45d0f6325b42eadf51fa9" name="a9f53a76fe9a45d0f6325b42eadf51fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f53a76fe9a45d0f6325b42eadf51fa9">&#9670;&#160;</a></span>~Layout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Layout::~Layout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a06258e0c1d8e8ddc9684787951b4201a" name="a06258e0c1d8e8ddc9684787951b4201a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06258e0c1d8e8ddc9684787951b4201a">&#9670;&#160;</a></span>setLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPoint.html">void</a> Layout::setLayout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPoint.html">const</a> juce::String &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPoint.html">const</a> juce::File &amp;&#160;</td>
          <td class="paramname"><em>source</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads and applies a layout from a JSON file. </p>
<p>This method looks for the layout file in BinaryData first (for embedded resources). In debug builds, if a source file is provided, it will be used instead and watched for changes (hot-reloading).</p>
<p>On desktop platforms, this also starts watching the file for changes and automatically reloads when it's modified, allowing for rapid UI iteration during development.</p>
<p>Requirements:</p><ul>
<li>Components must have names set via setName() to be found by the layout engine</li>
<li>The component hierarchy must already exist before applying the layout</li>
<li>Component IDs in JSON must match the component names exactly</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the layout file (must match a BinaryData resource name) </td></tr>
    <tr><td class="paramname">source</td><td>Optional source file for hot-reloading in debug builds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a66dd59fbfee00f951cccceda0c7d4cf9" name="a66dd59fbfee00f951cccceda0c7d4cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66dd59fbfee00f951cccceda0c7d4cf9">&#9670;&#160;</a></span>parseLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPoint.html">bool</a> Layout::parseLayout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPoint.html">const</a> juce::String &amp;&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses and applies a layout from JSON content. </p>
<p>This method directly parses JSON content and applies it to the component hierarchy. Unlike <a class="el" href="classLayout.html#a06258e0c1d8e8ddc9684787951b4201a" title="Loads and applies a layout from a JSON file.">setLayout()</a>, this doesn't set up hot-reloading.</p>
<p>The JSON is parsed and all components with matching IDs have their bounds set according to the layout definition. Components are found by building a path from their name hierarchy (e.g., '/parent/child/button').</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td>JSON string containing the layout definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the layout was parsed successfully, false on parse error </dd></dl>

</div>
</div>
<a id="a2a152b945b2c1b21fa7b3a091916c44f" name="a2a152b945b2c1b21fa7b3a091916c44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a152b945b2c1b21fa7b3a091916c44f">&#9670;&#160;</a></span>setConstant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPoint.html">void</a> Layout::setConstant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPoint.html">const</a> juce::String &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPoint.html">double</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a constant value that can be used in layout expressions. </p>
<p>Constants are global values that can be referenced by name in any expression within the layout. They're useful for values that are used in multiple places or that you want to change programmatically at runtime.</p>
<p>Constants can also be defined in the JSON using the "constants" key, but this method allows you to set them from code.</p>
<p>Example: </p><div class="fragment"><div class="line"><a class="code hl_class" href="classPoint.html">layout</a>.setConstant (<span class="stringliteral">&quot;windowWidth&quot;</span>, <a class="code hl_class" href="classPoint.html">getWidth</a>());</div>
<div class="line"><a class="code hl_class" href="classPoint.html">layout</a>.setConstant (<span class="stringliteral">&quot;darkMode&quot;</span>, <a class="code hl_class" href="classPoint.html">isDarkMode</a>() ? 1 : 0);</div>
<div class="line"><span class="comment">// Then in JSON: &quot;w&quot;: &quot;windowWidth / 2&quot;</span></div>
<div class="ttc" id="aclassPoint_html"><div class="ttname"><a href="classPoint.html">Point</a></div><div class="ttdoc">A lightweight 2D point class for projects that don't use juce_graphics.</div><div class="ttdef"><b>Definition</b> gin_point.h:25</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the constant (case-sensitive) </td></tr>
    <tr><td class="paramname">val</td><td>The value of the constant </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="gin__layout_8h.html">gin_layout.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 18 2025 15:51:03 for Gin by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
